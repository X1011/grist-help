<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../images/favicon.png">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Linking widgets - Grist Help Center</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <link href="../css/grist.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Linking Page Widgets", url: "#_top", children: [
              {title: "Same-record linking", url: "#same-record-linking" },
              {title: "Filter linking", url: "#filter-linking" },
              {title: "Indirect linking", url: "#indirect-linking" },
              {title: "Multiple reference columns", url: "#multiple-reference-columns" },
              {title: "Linking summary tables", url: "#linking-summary-tables" },
              {title: "Changing link settings", url: "#changing-link-settings" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script>
      <script src="../js/grist.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../custom-layouts/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../custom-layouts/" class="btn btn-xs btn-link">
        Custom layouts
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../widget-chart/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../widget-chart/" class="btn btn-xs btn-link">
        Chart
      </a>
    </div>
    
  </div>

    

    <h1 id="linking-page-widgets">Linking Page Widgets<a class="headerlink" href="#linking-page-widgets" title="Permanent link">#</a></h1>
<p>One big reason for placing more than one widget on a page is that widgets can be linked. When
linked, selecting a record in one widget will cause another widget to update and show only the
data related to the selected record. </p>
<p>For example, let’s say you have a table of <code>Departments</code> in a company, and a table of
<code>Employees</code>, with each employee tied to some department. You can have one Table widget listing
departments and serving as a selector for a second Table widget listing employees:</p>
<div id="carousel-ex1" class="carousel slide" data-interval="false">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#carousel-ex1" data-slide-to="0" class="active"></li>
    <li data-target="#carousel-ex1" data-slide-to="1"></li>
    <li data-target="#carousel-ex1" data-slide-to="2"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <img src="../images/linking-ex1-slide1.png" alt="Linking Screenshot1">
    </div>
    <div class="item">
      <img src="../images/linking-ex1-slide2.png" alt="Linking Screenshot2">
    </div>
    <div class="item">
      <img src="../images/linking-ex1-slide3.png" alt="Linking Screenshot3">
    </div>
  </div>

  <!-- Controls -->
  <a class="left carousel-control" href="#carousel-ex1" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#carousel-ex1" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<p>&nbsp;</p>
<p>To create this, first create a page with a Table widget for <code>Departments</code> data, as described in
<a href="page-widgets.md/#widget-picker">Page widgets</a>. Then in the &ldquo;Add New&rdquo; menu, select the &ldquo;Add Widget to
Page&rdquo; option to add another Table widget for <code>Employees</code> data. In the widget picker, use the &ldquo;Select
By&rdquo; dropdown and choose the &ldquo;DEPARTMENTS&rdquo; widget added in the first step.</p>
<p class="screenshot-half"><em><img alt="linking-add-widget" src="../images/linking-add-widget.png" /></em></p>
<p>That’s all it takes: now selecting a department in the first table will cause the second table to
show only the employees in that department. Note that this relies on the <code>Emploeees</code> table having a
column of type <code>Reference</code> with the target table of <code>Departments</code>. See <a href="../col-refs/">Reference
columns</a>.</p>
<h2 id="types-of-linking">Types of linking<a class="headerlink" href="#types-of-linking" title="Permanent link">#</a></h2>
<p>Linking widgets only works when there is some relationships between records in the underlying
data. There are several kinds of relationships supported.</p>
<h2 id="same-record-linking">Same-record linking<a class="headerlink" href="#same-record-linking" title="Permanent link">#</a></h2>
<p>Most directly you can link two widgets which show data from the same underlying table, usually
linking a Table to a Card. This allows you to select a record in the Table widget and see more
details of that record in the linked Card widget.</p>
<p>For example, you can add a Card of <code>Employees</code> data and link it to an existing Table widget
&ldquo;EMPLOYEES&rdquo;:</p>
<p class="screenshot-half"><em><img alt="linking-same-record-add" src="../images/linking-same-record-add.png" /></em></p>
<p>When you select a record in the table, the new &ldquo;EMPLOYEES Card&rdquo; widget shows a card for the
selected record.</p>
<p><img alt="linking-same-record-result" src="../images/linking-same-record-result.png" /></p>
<p>For another example of such linking, see the &ldquo;Lightweight CRM&rdquo; document in &ldquo;Examples &amp; Templates&rdquo;
and the associated tutorial <a href="../lightweight-crm/#customizing-layout">Create your own CRM</a>.</p>
<h2 id="filter-linking">Filter linking<a class="headerlink" href="#filter-linking" title="Permanent link">#</a></h2>
<p>As in the Employee-Department example, when one table has a reference to another (i.e. a column of
type &ldquo;Reference&rdquo;), the second table can serve as a selector for the first. Essentially, selecting
a record can automatically filter another widget to show only those records that refer to the
selected record.</p>
<p>In the example shown earlier, the <code>Employees</code> table has a &ldquo;Reference&rdquo; column pointing to the
<code>Departments</code> table, so a list of departments can serve as a selector for employees. When a
department is selected, only the employees in that department will be shown.</p>
<p>The &ldquo;Lightweight CRM&rdquo; document in &ldquo;Examples &amp; Templates&rdquo; provides another example, where
selecting a contact shows only the conversations with that contact. It&rsquo;s also described in the
<a href="../lightweight-crm/#linking-tables-visually">tutorial</a>.</p>
<p>When the target of linking is a Chart widget, you get dynamic charts that reflect data associated
with the selected record. For example, you could link a pie chart to a department
to show the sum of salaries for each job position in the selected department.</p>
<div id="carousel-ex2" class="carousel slide" data-interval="false">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#carousel-ex2" data-slide-to="0" class="active"></li>
    <li data-target="#carousel-ex2" data-slide-to="1"></li>
    <li data-target="#carousel-ex2" data-slide-to="2"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <img src="../images/linking-chart-slide1.png" alt="Linking Screenshot1">
    </div>
    <div class="item">
      <img src="../images/linking-chart-slide2.png" alt="Linking Screenshot2">
    </div>
    <div class="item">
      <img src="../images/linking-chart-slide3.png" alt="Linking Screenshot3">
    </div>
  </div>

  <!-- Controls -->
  <a class="left carousel-control" href="#carousel-ex2" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#carousel-ex2" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<p>&nbsp;</p>
<h2 id="indirect-linking">Indirect linking<a class="headerlink" href="#indirect-linking" title="Permanent link">#</a></h2>
<p>Whenever a table <code>A</code> has a reference to <code>B</code>, <code>A</code> can be used in place of <code>B</code> as the source of
linking. Instead of considering the currently selected record in <code>A</code>, linking will consider the
referenced record in <code>B</code> as the selection.</p>
<p>For instance, a Table widget showing <code>Employees</code> can serve as a selector for a Card widget showing
data from <code>Departments</code>, using the fact that an employee record contains a &ldquo;Department&rdquo; reference.
In the widget picker, if you select data from <code>Departments</code>, you&rsquo;ll see a &ldquo;Select By&rdquo; option
&ldquo;EMPLOYEES • Department&rdquo;:</p>
<p class="screenshot-half"><em><img alt="linking-indirect-add" src="../images/linking-indirect-add.png" /></em></p>
<p>When you select an employee, you&rsquo;ll see the details of that employee&rsquo;s department.</p>
<p class="screenshot-half"><em><img alt="linking-indirect-result" src="../images/linking-indirect-result.png" /></em></p>
<h2 id="multiple-reference-columns">Multiple reference columns<a class="headerlink" href="#multiple-reference-columns" title="Permanent link">#</a></h2>
<p>When a table that&rsquo;s the target of linking has multiple reference columns, you may need to choose
which one to use for linking.</p>
<p>For instance, a <code>Flight</code> record might have fields &lsquo;DepartureAirport&rsquo; and &lsquo;ArrivalAirport&rsquo;, each of
which is a Reference to the table <code>Airports</code>. When you select an airport in a table, you can have
a choice whether to show all flights departing from this airport or all flights arriving to it.
The &ldquo;Select By&rdquo; widget will show both options to choose from:</p>
<p class="screenshot-half"><em><img alt="linking-multiple-refs" src="../images/linking-multiple-refs.png" /></em></p>
<h2 id="linking-summary-tables">Linking summary tables<a class="headerlink" href="#linking-summary-tables" title="Permanent link">#</a></h2>
<p>When widgets display summarized data, as described in <a href="../summary-tables/">Summary tables</a>, they
can also be linked, both to the underlying data and to other summary tables.</p>
<p>For example, you can summarize the table <code>Employees</code> by job position, and include the count of
employees for each position, the average salary, or other summary data. You can also link the
<code>Employees</code> table to it, so that selecting a position shows all employees in that position.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="linking-summary1" src="../images/linking-summary1.png" /></em></span></p>
<p>Furthermore, you can link another summary table. For instance, you can summarize employees by position <em>and</em>
gender, and link that to the summary by position. When selecting a job position, you can then see a summary by gender for that position.
This is also convenient with charts.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="linking-summary2" src="../images/linking-summary2.png" /></em></span></p>
<p>In this example, you see a pie chart with the average salary for men vs women for the selected job
position. As you click different positions, the pie chart updates to reflect the selected one.</p>
<p>More examples of such linking can be found in the <a href="../investment-research/#dynamic-charts">Analyze and
visualize</a> tutorial.</p>
<h2 id="changing-link-settings">Changing link settings<a class="headerlink" href="#changing-link-settings" title="Permanent link">#</a></h2>
<p>After a widget is added, you can view and change its link settings from the right panel. One way
to get to it is to click on the three-dots icon on the top right of the widget, and click on the &ldquo;Data
selection&rdquo; menu option:</p>
<p class="screenshot-half"><em><img alt="linking-menu-option" src="../images/linking-menu-option.png" /></em></p>
<p>This opens the side panel, which shows what data is shown, and which widget, if
any, serves as its selector.</p>
<p class="screenshot-half"><em><img alt="linking-side-panel" src="../images/linking-side-panel.png" /></em></p>
<p>You can change the &ldquo;Select By&rdquo; setting here, or click the green &ldquo;Edit Data Selection&rdquo; button, and change
it in the widget picker dialog.</p>

  <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>